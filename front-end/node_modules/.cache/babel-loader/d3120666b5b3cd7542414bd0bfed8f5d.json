{"remainingRequest":"D:\\projectFPT\\SolidityProject\\front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\projectFPT\\SolidityProject\\front-end\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\projectFPT\\SolidityProject\\front-end\\src\\services\\base.js","dependencies":[{"path":"D:\\projectFPT\\SolidityProject\\front-end\\src\\services\\base.js","mtime":1634524960271},{"path":"D:\\projectFPT\\SolidityProject\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectFPT\\SolidityProject\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\projectFPT\\SolidityProject\\front-end\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pbmhlcml0cyBmcm9tICJEOi9wcm9qZWN0RlBUL1NvbGlkaXR5UHJvamVjdC9mcm9udC1lbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICJEOi9wcm9qZWN0RlBUL1NvbGlkaXR5UHJvamVjdC9mcm9udC1lbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IF93cmFwTmF0aXZlU3VwZXIgZnJvbSAiRDovcHJvamVjdEZQVC9Tb2xpZGl0eVByb2plY3QvZnJvbnQtZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS93cmFwTmF0aXZlU3VwZXIiOwppbXBvcnQgX2NvbnN0cnVjdCBmcm9tICJEOi9wcm9qZWN0RlBUL1NvbGlkaXR5UHJvamVjdC9mcm9udC1lbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NvbnN0cnVjdCI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRDovcHJvamVjdEZQVC9Tb2xpZGl0eVByb2plY3QvZnJvbnQtZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRDovcHJvamVjdEZQVC9Tb2xpZGl0eVByb2plY3QvZnJvbnQtZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCB7IEh0dHAgfSBmcm9tICcuL2h0dHAuanMnOwpleHBvcnQgdmFyIEJhc2VTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCYXNlU2VydmljZSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlU2VydmljZSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQmFzZVNlcnZpY2UsIG51bGwsIFt7CiAgICBrZXk6ICJyZXF1ZXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0KCkgewogICAgICB2YXIgc3RhdHVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7CiAgICAgICAgYXV0aDogZmFsc2UKICAgICAgfTsKICAgICAgcmV0dXJuIG5ldyBIdHRwKHN0YXR1cyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzcG9uc2VXcmFwcGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNwb25zZVdyYXBwZXIoKSB7CiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgIHJlc3RbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgIH0KCiAgICAgIHJldHVybiBfY29uc3RydWN0KFJlc3BvbnNlV3JhcHBlciwgcmVzdCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXJyb3JXcmFwcGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcldyYXBwZXIoKSB7CiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykgewogICAgICAgIHJlc3RbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTsKICAgICAgfQoKICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QoRXJyb3JXcmFwcGVyLCByZXN0KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJlbnRpdHkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignZW50aXR5IGdldHRlciBub3QgZGVmaW5lZCcpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEJhc2VTZXJ2aWNlOwp9KCk7CgpmdW5jdGlvbiBfZ2V0U3RhdHVzTWVzc2FnZShzdGF0dXMpIHsKICB2YXIgbWVzc2FnZSA9ICcnOwoKICBzd2l0Y2ggKHN0YXR1cykgewogICAgY2FzZSAyMDA6CiAgICAgIG1lc3NhZ2UgPSAnQWxsIGRvbmUuIFJlcXVlc3Qgc3VjY2Vzc2Z1bGx5IGV4ZWN1dGVkJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSAyMDE6CiAgICAgIG1lc3NhZ2UgPSAnRGF0YSBzdWNjZXNzZnVsbHkgY3JlYXRlZCc7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgNDAwOgogICAgICBtZXNzYWdlID0gJ0JhZCBSZXF1ZXN0JzsKICAgICAgYnJlYWs7CgogICAgY2FzZSA0MDE6CiAgICAgIG1lc3NhZ2UgPSAnTmVlZCBhdXRoJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSA0MDQ6CiAgICAgIG1lc3NhZ2UgPSAnTm90IGZvdW5kJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSA1MDM6CiAgICAgIG1lc3NhZ2UgPSAnU2VydmljZSB1bmF2YWlsYWJsZS4gVHJ5IGFnYWluIGxhdGVyJzsKICAgICAgYnJlYWs7CgogICAgZGVmYXVsdDoKICAgICAgbWVzc2FnZSA9ICdTb21ldGhpbmcgd3JvbmcuIENsaWVudCBkZWZhdWx0IGVycm9yIG1lc3NhZ2UnOwogICAgICBicmVhazsKICB9CgogIHJldHVybiBtZXNzYWdlOwp9CgpmdW5jdGlvbiBfZ2V0UmVzcG9uc2VFcnJvck1lc3NhZ2UoZXJyb3IpIHsKICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSkgcmV0dXJuIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzVGV4dCkgcmV0dXJuIGVycm9yLnJlc3BvbnNlLnN0YXR1c1RleHQ7CiAgcmV0dXJuIGVycm9yLm1lc3NhZ2UgPT09ICdOZXR3b3JrIEVycm9yJyA/ICdPb3BzISBOZXR3b3JrIEVycm9yLiBUcnkgYWdhaW4gbGF0ZXInIDogZXJyb3IubWVzc2FnZTsKfQoKZXhwb3J0IHZhciBSZXNwb25zZVdyYXBwZXIgPSBmdW5jdGlvbiBSZXNwb25zZVdyYXBwZXIocmVzcG9uc2UpIHsKICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgdmFyIG1lc3NhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKCiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlc3BvbnNlV3JhcHBlcik7CgogIHRoaXMuZGF0YSA9IGRhdGE7CiAgdGhpcy5zdWNjZXNzID0gcmVzcG9uc2UuZGF0YS5zdWNjZXNzOwogIHRoaXMuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzOwogIHRoaXMuc3RhdHVzTWVzc2FnZSA9IF9nZXRTdGF0dXNNZXNzYWdlKHRoaXMuc3RhdHVzKTsKICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlIHx8IG51bGw7Cn07CmV4cG9ydCB2YXIgRXJyb3JXcmFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXJyb3IpIHsKICBfaW5oZXJpdHMoRXJyb3JXcmFwcGVyLCBfRXJyb3IpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEVycm9yV3JhcHBlcik7CgogIGZ1bmN0aW9uIEVycm9yV3JhcHBlcihlcnJvcikgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFcnJvcldyYXBwZXIpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7CiAgICBfdGhpcy5zdWNjZXNzID0gZXJyb3IucmVzcG9uc2UgPyBlcnJvci5yZXNwb25zZS5kYXRhLnN1Y2Nlc3MgOiBmYWxzZTsKICAgIF90aGlzLm1ldGEgPSBlcnJvci5yZXNwb25zZSA/IGVycm9yLnJlc3BvbnNlLmRhdGEubWV0YSA6IGZhbHNlOwogICAgX3RoaXMuY29kZSA9IGVycm9yLnJlc3BvbnNlID8gZXJyb3IucmVzcG9uc2UuZGF0YS5jb2RlIDogZmFsc2U7CiAgICBfdGhpcy5zdGF0dXMgPSBlcnJvci5yZXNwb25zZSA/IGVycm9yLnJlc3BvbnNlLnN0YXR1cyA6IGZhbHNlOwogICAgX3RoaXMuc3RhdHVzTWVzc2FnZSA9IF9nZXRTdGF0dXNNZXNzYWdlKF90aGlzLnN0YXR1cyk7CiAgICBfdGhpcy5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IF9nZXRSZXNwb25zZUVycm9yTWVzc2FnZShlcnJvcik7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICByZXR1cm4gRXJyb3JXcmFwcGVyOwp9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpOw=="},{"version":3,"sources":["D:/projectFPT/SolidityProject/front-end/src/services/base.js"],"names":["Http","BaseService","status","auth","rest","ResponseWrapper","ErrorWrapper","Error","_getStatusMessage","message","_getResponseErrorMessage","error","response","data","statusText","success","statusMessage","meta","code"],"mappings":"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","sourcesContent":["import { Http } from './http.js'\r\n\r\nexport class BaseService {\r\n  static get entity () {\r\n    throw new Error('entity getter not defined')\r\n  }\r\n\r\n  static request (status = { auth: false }) {\r\n    return new Http(status)\r\n  }\r\n\r\n  static responseWrapper (...rest) {\r\n    return new ResponseWrapper(...rest)\r\n  }\r\n\r\n  static errorWrapper (...rest) {\r\n    return new ErrorWrapper(...rest)\r\n  }\r\n}\r\n\r\n\r\nfunction _getStatusMessage (status) {\r\n  let message = ''\r\n  switch (status) {\r\n    case 200:\r\n      message = 'All done. Request successfully executed'\r\n      break\r\n    case 201:\r\n      message = 'Data successfully created'\r\n      break\r\n    case 400:\r\n      message = 'Bad Request'\r\n      break\r\n    case 401:\r\n      message = 'Need auth'\r\n      break\r\n    case 404:\r\n      message = 'Not found'\r\n      break\r\n    case 503:\r\n      message = 'Service unavailable. Try again later'\r\n      break\r\n    default:\r\n      message = 'Something wrong. Client default error message'\r\n      break\r\n  }\r\n  return message\r\n}\r\n\r\nfunction _getResponseErrorMessage (error) {\r\n  if (error.response && error.response.data) return error.response.data.message\r\n  if (error.response && error.response.statusText) return error.response.statusText\r\n  return error.message === 'Network Error' ? 'Oops! Network Error. Try again later' : error.message\r\n}\r\n\r\n\r\nexport class ResponseWrapper {\r\n  constructor (response, data = {}, message) {\r\n    this.data = data\r\n    this.success = response.data.success\r\n    this.status = response.status\r\n    this.statusMessage = _getStatusMessage(this.status)\r\n    this.message = message || null\r\n  }\r\n}\r\n\r\nexport class ErrorWrapper extends Error {\r\n  constructor (error) {\r\n    super()\r\n    this.success = error.response ? error.response.data.success : false\r\n    this.meta = error.response ? error.response.data.meta : false\r\n    this.code = error.response ? error.response.data.code : false\r\n    this.status = error.response ? error.response.status : false\r\n    this.statusMessage = _getStatusMessage(this.status)\r\n    this.message = error.response.data.message || _getResponseErrorMessage(error)\r\n  }\r\n}"]}]}